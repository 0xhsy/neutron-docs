"use strict";(self.webpackChunkneutron=self.webpackChunkneutron||[]).push([[214],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>g});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=o.createContext({}),c=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},u=function(e){var t=c(e.components);return o.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=c(n),g=r,m=d["".concat(s,".").concat(g)]||d[g]||p[g]||i;return n?o.createElement(m,a(a({ref:t},u),{},{components:n})):o.createElement(m,a({ref:t},u))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,a=new Array(i);a[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,a[1]=l;for(var c=2;c<i;c++)a[c]=n[c];return o.createElement.apply(null,a)}return o.createElement.apply(null,n)}d.displayName="MDXCreateElement"},6587:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>a,default:()=>p,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var o=n(7462),r=(n(7294),n(3905));const i={},a="Overview",l={unversionedId:"neutron-core/gov/overview",id:"neutron-core/gov/overview",title:"Overview",description:"NOTE: THE IMPLEMENTATION DESCRIBED IN THIS SECTION IS NOT FINALISED AND MIGHT BE CHANGED BEFORE THE LAUNCH.",source:"@site/docs/neutron-core/gov/overview.md",sourceDirName:"neutron-core/gov",slug:"/neutron-core/gov/overview",permalink:"/neutron-docs/neutron-core/gov/overview",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Messages",permalink:"/neutron-docs/neutron-core/transfer/messages"},next:{title:"Messages",permalink:"/neutron-docs/neutron-core/gov/messages"}},s={},c=[{value:"Delegations do not contribute to voting power",id:"delegations-do-not-contribute-to-voting-power",level:2},{value:"Voting power is retrieved from the DAO contract",id:"voting-power-is-retrieved-from-the-dao-contract",level:2},{value:"Tally logic is modified",id:"tally-logic-is-modified",level:2}],u={toc:c};function p(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,o.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"overview"},"Overview"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"NOTE: THE IMPLEMENTATION DESCRIBED IN THIS SECTION IS NOT FINALISED AND MIGHT BE CHANGED BEFORE THE LAUNCH."))),(0,r.kt)("p",null,"This document describes Neutron's governance module."),(0,r.kt)("p",null,"Neutron's governance module is a wrapper for the original Cosmos SDK ",(0,r.kt)("inlineCode",{parentName:"p"},"gov")," module with some key differences, which are\ndescribed in this section:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"There is a special DAO contract that is deployed during chain initialisation;"),(0,r.kt)("li",{parentName:"ul"},"Voting power is retrieved from the DAO contract based on the amount of tokens locked;"),(0,r.kt)("li",{parentName:"ul"},"Funds staked using the standard ",(0,r.kt)("inlineCode",{parentName:"li"},"staking")," module do not contribute to voting power;"),(0,r.kt)("li",{parentName:"ul"},"Tally logic is modified to get the voting power from the DAO contract.")),(0,r.kt)("h2",{id:"delegations-do-not-contribute-to-voting-power"},"Delegations do not contribute to voting power"),(0,r.kt)("p",null,"The original ",(0,r.kt)("inlineCode",{parentName:"p"},"gov")," module computes voting power based on user's delegations. Since Neutron is an interchain-secured\nnetwork, native staking does not play an important role; users have to lock their ",(0,r.kt)("inlineCode",{parentName:"p"},"$NTRN")," tokens in the chain's DAO\ncontract in order to be able to vote for proposals."),(0,r.kt)("h2",{id:"voting-power-is-retrieved-from-the-dao-contract"},"Voting power is retrieved from the DAO contract"),(0,r.kt)("p",null,"The DAO contract should only implement two handlers:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-rust"},"pub fn query_voting_power(deps: Deps, user_addr: Addr) -> StdResult<VotingPowerResponse> { ... }\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-rust"},"pub fn query_voting_powers(deps: Deps) -> StdResult<Vec<VotingPowerResponse>> { ... }  \n")),(0,r.kt)("p",null,"where ",(0,r.kt)("inlineCode",{parentName:"p"},"VotingPowerResponse")," is defined as:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-rust"},"pub struct VotingPowerResponse {\n    /// Address of the user\n    pub user: String,\n    /// The user's current voting power, i.e. the amount of NTRN tokens locked in voting contract\n    pub voting_power: Uint128,\n}\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Note: currently ",(0,r.kt)("inlineCode",{parentName:"p"},"neutron-core")," only uses the ",(0,r.kt)("inlineCode",{parentName:"p"},"query_voting_powers")," handler.")),(0,r.kt)("h2",{id:"tally-logic-is-modified"},"Tally logic is modified"),(0,r.kt)("p",null,"Tally interface hasn't changed, but instead of calculating voting results based on the delegation amounts, it uses the\nabove contract calls to get the voting power. This means that in order to vote, a user must first lock their tokens in\nthe DAO contract, and then use the standard ",(0,r.kt)("inlineCode",{parentName:"p"},"gov")," module interface as usual."))}p.isMDXComponent=!0}}]);